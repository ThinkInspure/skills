# 第二步：规划可复用内容

<cite>
**本文档中引用的文件**  
- [skill-creator/SKILL.md](file://skills/skill-creator/SKILL.md)
- [skill-creator/scripts/init_skill.py](file://skills/skill-creator/scripts/init_skill.py)
- [pdf/SKILL.md](file://skills/pdf/SKILL.md)
- [pdf/forms.md](file://skills/pdf/forms.md)
- [pdf/scripts/check_fillable_fields.py](file://skills/pdf/scripts/check_fillable_fields.py)
- [docx/SKILL.md](file://skills/docx/SKILL.md)
- [docx/ooxml/scripts/unpack.py](file://skills/docx/ooxml/scripts/unpack.py)
- [docx/ooxml/scripts/pack.py](file://skills/docx/ooxml/scripts/pack.py)
- [mcp-builder/SKILL.md](file://skills/mcp-builder/SKILL.md)
- [mcp-builder/scripts/evaluation.py](file://skills/mcp-builder/scripts/evaluation.py)
- [frontend-design/SKILL.md](file://skills/frontend-design/SKILL.md)
- [algorithmic-art/SKILL.md](file://skills/algorithmic-art/SKILL.md)
</cite>

## 目录
1. [引言](#引言)
2. [资源分类框架](#资源分类框架)
3. [脚本（scripts/）识别与应用](#脚本scripts-识别与应用)
4. [参考文档（references/）识别与应用](#参考文档references-识别与应用)
5. [资源文件（assets/）识别与应用](#资源文件assets-识别与应用)
6. [真实案例分析](#真实案例分析)
7. [可复用组件提取检查清单](#可复用组件提取检查清单)
8. [结论](#结论)

## 引言

在构建AI技能（Skills）时，识别和分类可复用的组件是提升效率和一致性的关键步骤。通过分析具体任务模式，开发者可以将重复性工作抽象为可重用的资源，从而避免冗余并提高技能的可维护性。本文档深入探讨如何识别和分类三类核心资源：脚本（scripts/）、参考文档（references/）和资源文件（assets/），并通过真实案例说明如何提取可复用组件，指导开发者建立清晰的资源清单。

**Section sources**
- [skill-creator/SKILL.md](file://skills/skill-creator/SKILL.md#L232-L254)

## 资源分类框架

在技能开发中，资源被系统地划分为三个主要类别，每类都有其特定用途和加载策略：

- **脚本（scripts/）**：包含可直接执行的代码（如Python、Bash等），用于执行特定操作，如PDF旋转、文档打包等。
- **参考文档（references/）**：包含需要加载到上下文中的文档和参考资料，用于指导AI的思考和决策过程。
- **资源文件（assets/）**：包含用于输出的文件，如模板、字体、图标等，这些文件不被加载到上下文，而是直接用于生成最终输出。

这种分类确保了资源的高效管理和使用，避免了不必要的上下文占用。

**Section sources**
- [skill-creator/scripts/init_skill.py](file://skills/skill-creator/scripts/init_skill.py#L69-L96)

## 脚本（scripts/）识别与应用

脚本是技能中用于执行确定性操作的核心组件。当某个任务需要重复编写相同的代码时，应将其封装为脚本。

### 识别标准

- **重复性**：同一段代码在多个任务中被重复使用。
- **确定性**：操作结果可预测，适合自动化。
- **复杂性**：涉及多个步骤或外部工具调用。

### 应用示例

在`pdf`技能中，`scripts/`目录包含多个Python脚本，如`check_fillable_fields.py`，用于检查PDF是否包含可填写的表单字段。该脚本通过`pypdf`库读取PDF文件并检查其字段，避免了每次都需要重新编写相同的逻辑。

```python
# 示例：检查PDF表单字段
reader = PdfReader(sys.argv[1])
if (reader.get_fields()):
    print("This PDF has fillable form fields")
else:
    print("This PDF does not have fillable form fields")
```

**Section sources**
- [pdf/scripts/check_fillable_fields.py](file://skills/pdf/scripts/check_fillable_fields.py#L1-L13)
- [pdf/SKILL.md](file://skills/pdf/SKILL.md#L3)

## 参考文档（references/）识别与应用

参考文档用于提供AI在执行任务时需要参考的详细信息，如API文档、数据模式或工作流程指南。

### 识别标准

- **信息密集**：包含大量需要查阅的细节。
- **非执行性**：不直接执行，而是作为决策依据。
- **上下文相关**：仅在特定任务中需要加载。

### 应用示例

在`mcp-builder`技能中，`reference/`目录包含`mcp_best_practices.md`等文档，指导开发者如何创建高质量的MCP服务器。这些文档在开发过程中被引用，帮助AI理解最佳实践。

**Section sources**
- [mcp-builder/SKILL.md](file://skills/mcp-builder/SKILL.md#L58-L67)
- [mcp-builder/reference/mcp_best_practices.md](file://skills/mcp-builder/reference/mcp_best_practices.md)

## 资源文件（assets/）识别与应用

资源文件是用于生成最终输出的静态资源，如模板、字体或图像。

### 识别标准

- **输出导向**：直接用于生成用户可见的输出。
- **非上下文加载**：不需要加载到AI的上下文中。
- **可复用性**：可在多个项目中重复使用。

### 应用示例

在`algorithmic-art`技能中，`templates/`目录包含`viewer.html`和`generator_template.js`，作为生成交互式艺术作品的起点。这些模板文件被直接复制并修改，避免了从零开始构建。

**Section sources**
- [algorithmic-art/SKILL.md](file://skills/algorithmic-art/SKILL.md#L108-L114)
- [algorithmic-art/templates/viewer.html](file://skills/algorithmic-art/templates/viewer.html)

## 真实案例分析

通过分析具体技能，我们可以更清晰地理解如何提取可复用组件。

### PDF编辑技能

当构建`pdf-editor`技能以处理“帮助我旋转这个PDF”这类请求时，分析显示：

1. 旋转PDF需要重复编写相同的代码。
2. 创建`scripts/rotate_pdf.py`脚本可存储此逻辑。

### 前端应用构建技能

当设计`frontend-webapp-builder`技能以处理“为我构建一个待办事项应用”时，分析显示：

1. 编写前端Web应用需要相同的HTML/React样板代码。
2. 创建`assets/hello-world/`模板可包含这些样板文件。

### 大查询技能

当构建`big-query`技能以处理“今天有多少用户登录？”时，分析显示：

1. 查询BigQuery需要重新发现表模式和关系。
2. 创建`references/schema.md`文件可记录这些模式。

**Section sources**
- [skill-creator/SKILL.md](file://skills/skill-creator/SKILL.md#L239-L253)

## 可复用组件提取检查清单

为确保资源的有效性和必要性，使用以下检查清单：

| 资源类型 | 检查项 | 必要性判断 |
|---------|-------|----------|
| **脚本（scripts/）** | 是否重复执行相同逻辑？ | 是 → 提取为脚本 |
| | 是否需要确定性输出？ | 是 → 提取为脚本 |
| | 是否涉及外部工具调用？ | 是 → 提取为脚本 |
| **参考文档（references/）** | 是否包含大量需查阅的信息？ | 是 → 存入references/ |
| | 是否仅在特定任务中需要？ | 是 → 存入references/ |
| | 是否会占用过多上下文？ | 是 → 存入references/ |
| **资源文件（assets/）** | 是否用于最终输出？ | 是 → 存入assets/ |
| | 是否为静态资源（如模板、字体）？ | 是 → 存入assets/ |
| | 是否可跨项目复用？ | 是 → 存入assets/ |

此检查清单帮助开发者系统地评估每类资源的必要性，避免冗余。

**Section sources**
- [skill-creator/SKILL.md](file://skills/skill-creator/SKILL.md#L234-L254)

## 结论

通过系统地识别和分类脚本、参考文档和资源文件，开发者可以有效地提取可复用组件，提升技能的开发效率和一致性。关键在于分析任务模式，识别重复性工作，并将其抽象为适当的资源类型。使用检查清单可确保资源的必要性和有效性，避免不必要的冗余。最终，这将构建出更加模块化、可维护和高效的AI技能。